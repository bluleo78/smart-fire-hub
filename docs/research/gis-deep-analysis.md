# Smart Fire Hub — GIS/지리정보 심층 분석 보고서

> 작성일: 2026-03-01
> 목적: 경쟁 서비스 비교, 실제 도입 사례, 역할별 유저스토리, 한국 공공데이터 소스를 종합 분석하여 Smart Fire Hub GIS 전략 수립의 근거를 제공한다.
> 보완 대상: `docs/research/gis-spatial-research.md` (기술 스택 중심) → 본 문서는 **비즈니스/사용자/데이터 관점**에서 심화

---

## 목차

1. [경쟁 서비스 GIS 기능 비교 분석](#1-경쟁-서비스-gis-기능-비교-분석)
2. [실제 도입 사례 상세 분석](#2-실제-도입-사례-상세-분석)
3. [역할별 유저스토리](#3-역할별-유저스토리)
4. [한국 공공데이터 및 API 분석](#4-한국-공공데이터-및-api-분석)
5. [Gap 분석 및 전략적 시사점](#5-gap-분석-및-전략적-시사점)

---

## 1. 경쟁 서비스 GIS 기능 비교 분석

### 1.1 GIS 기능 심층 비교 매트릭스

소방/응급 분야 주요 플랫폼의 GIS 관련 기능을 **12개 세부 항목**으로 분해하여 비교한다.

| GIS 세부 기능 | ESRI ArcGIS | Hexagon Safety | Deccan ADAM | FirstWatch | ImageTrend | ESO | First Due | Mark43 |
|---|---|---|---|---|---|---|---|---|
| **지도 엔진** | 자체 (ArcGIS JS) | ArcGIS 기반 | ArcGIS 기반 | 자체 | Google Maps | 제한적 | 자체 | 자체 |
| **실시간 유닛 추적** | ★★★★★ | ★★★★★ | ★★★★ | ★★★★ | ★★ | ★ | ★★★ | ★★★★ |
| **히트맵/밀도분석** | ★★★★★ | ★★★★ | ★★★★ | ★★★★★ | ★★ | ★ | ★★★ | ★★★ |
| **이소크론(도달시간)** | ★★★★★ | ★★★★★ | ★★★★★ | ★★★ | - | - | ★★★ | ★★ |
| **커버리지 갭 분석** | ★★★★★ | ★★★★ | ★★★★★ | ★★★ | - | - | ★★★ | ★★ |
| **소화전 매핑** | ★★★★★ | ★★★ | ★★ | ★★ | ★★★★ | ★★★★ | ★★★★★ | ★★ |
| **관할구역 경계** | ★★★★★ | ★★★★★ | ★★★★★ | ★★★★ | ★★★ | ★★ | ★★★★ | ★★★★ |
| **사전조사(Pre-Plan)** | ★★★★ | ★★★ | - | - | ★★★★ | ★★ | ★★★★★ | ★★ |
| **위험도 평가 맵** | ★★★★★ | ★★★★ | ★★★★ | ★★★ | ★★ | ★ | ★★★★ | ★★★ |
| **배치 최적화** | ★★★★ | ★★★★ | ★★★★★ | ★★★ | - | - | - | ★★ |
| **3D 건물 뷰** | ★★★★★ | ★★★★ | - | - | - | - | ★★★ | - |
| **오프라인 맵** | ★★★★★ | ★★★ | - | - | ★★★★ | - | ★★★ | ★★ |
| **가격대** | $$$$ | $$$$ | $$$ | $$ | $$ | $$ | $$ | $$$ |

> ★★★★★ = 업계 최고 수준, ★ = 기본/제한적, - = 미지원

### 1.2 플랫폼별 GIS 심층 분석

#### ESRI ArcGIS — 소방 GIS 시장의 지배자

**GIS 아키텍처:**
- ArcGIS Online/Enterprise를 기반으로 소방 전용 솔루션 템플릿 제공
- `Community Risk Reduction Solution`: 위험 식별 → 우선순위 → 완화 → 모니터링의 전체 사이클
- `Fire Department Accreditation`: 표준 커버리지(Standards of Cover) 분석, 90th percentile 응답시간 시각화
- `ArcGIS Field Maps`: 현장 소화전 점검, 건물 검사용 모바일 앱

**차별적 GIS 기능:**
- Drive-time 분석: 도로 네트워크 기반 4분/8분 이소크론 생성
- ISO PPC 매핑: 소화전에서 1,000ft 이내/이외 구역의 보험 등급 시각화
- Community Wildfire Protection Plans: 역사적 산불 패턴 분석, 구조물 영향 평가, 완화 우선순위 결정
- 실시간 상황 인식: CommandCentral Aware와 연동한 실시간 GIS 레이어

**한계:**
- 연간 라이선스 비용 $10,000~$100,000+ (기관 규모에 따라)
- 벤더 락인 심각 — 데이터 포맷, API, 인프라 모두 ESRI 종속
- 한국 도로 네트워크 데이터 정확도 낮음 (미국 중심)
- 한국어 UI/문서 제한적

**Smart Fire Hub 시사점:**
- ESRI의 `Community Risk Reduction` 워크플로우를 오픈소스 스택으로 재현 가능
- Drive-time 분석은 OSRM/Valhalla + PostGIS로 대체 가능
- ISO PPC 매핑 개념을 한국 소방안전등급제에 적용 가능

---

#### Hexagon Safety — CAD+GIS 통합의 강자

**GIS 아키텍처:**
- HxGN OnCall Dispatch에 내장된 GIS 엔진 (ArcGIS 기반)
- 건물 청사진/도면을 GIS 레이어에 오버레이하는 인터랙티브 맵
- 실시간 유닛 위치 추적 + 자동 배차 최적화

**차별적 GIS 기능:**
- 사건 현장의 3D 건물 뷰와 출입구/위험물 위치 오버레이
- AI 기반 자원 배치 최적화 — 실시간 교통/날씨 데이터 반영
- 다기관 상호응원 구역의 동적 GIS 경계 관리

**한계:**
- 연간 $100,000+ 라이선스 비용
- 구현 복잡도 높음 (전문 컨설팅 필수)
- 온프레미스 의존성 높음

**Smart Fire Hub 시사점:**
- 건물 도면 오버레이는 V-World 3D 데이터 + 건축물대장 연동으로 부분 구현 가능
- 상호응원 구역 동적 관리는 PostGIS Polygon 편집 UI로 구현 가능

---

#### Deccan ADAM — 배치 최적화 전문

**GIS 아키텍처:**
- 과거 CAD 데이터 + GIS 도로 네트워크 기반 시뮬레이션 엔진
- "What-if" 분석: 소방서 위치 변경/추가 시 응답시간 영향 예측
- LiveMUM: 실시간 커버리지 모니터링, 자동 이동배치(Move-Up) 추천

**차별적 GIS 기능:**
- 차량 배치 변경의 응답시간 영향을 지도 위에 시뮬레이션
- 커버리지 갭의 실시간 시각화 (차량 출동 시 빈 구역 표시)
- 예산 대비 효과 분석 (새 소방서 건설 vs 기존 배치 최적화)

**Smart Fire Hub 시사점:**
- What-if 시뮬레이션은 PostGIS + 이소크론 엔진으로 구현 가능 (중장기 목표)
- 실시간 커버리지 모니터링은 WebSocket + MapLibre로 구현 가능
- AI 에이전트가 배치 최적화 분석을 자연어로 제공하는 것이 차별점

---

#### FirstWatch — 실시간 분석 대시보드 전문

**GIS 아키텍처:**
- CAD/ePCR 데이터를 실시간으로 수집하여 지도 기반 대시보드 생성
- 자동 경보 시스템 — 특정 패턴 감지 시 알림 (예: 특정 지역 출동 급증)
- 다기관 데이터 집계 — 광역 단위 실시간 상황 파악

**차별적 GIS 기능:**
- 수요 분석(Demand Analysis) 맵: 시간대별 출동 수요 히트맵
- 신드로믹 서베일런스: 공중보건 위협의 공간적 패턴 감지
- 실시간 KPI 지도: 응답시간, 출동 빈도 등을 지역별로 실시간 표시

**Smart Fire Hub 시사점:**
- 실시간 대시보드 + GIS 통합은 Smart Fire Hub의 핵심 차별점이 될 수 있음
- TanStack Query의 `refetchInterval`을 활용한 준실시간 GIS 대시보드 구현 가능
- AI 에이전트가 이상 패턴을 감지하고 자연어로 알림하는 기능은 FirstWatch에 없는 차별점

---

### 1.3 Smart Fire Hub 포지셔닝 분석

```
                    GIS 기능 깊이
                    ▲
                    │
        Hexagon ●   │   ● ESRI ArcGIS
                    │
        Deccan ●    │
                    │          ● Smart Fire Hub (목표)
        FirstWatch ●│
                    │
        First Due ● │  ● Mark43
                    │
        ImageTrend ●│● ESO
                    │
                    └──────────────────────────► AI/자동화 수준
```

**Smart Fire Hub의 전략적 위치:**
- GIS 기능 깊이: ESRI/Hexagon 수준은 아니지만, FirstWatch/First Due 이상
- AI/자동화: Claude Agent SDK 기반으로 경쟁사 대비 압도적 우위
- **핵심 차별점**: "AI 에이전트가 GIS 분석을 자연어로 수행" — 경쟁사에 없는 기능
- **비용 우위**: 오픈소스 스택(PostGIS + MapLibre + deck.gl)으로 ESRI/Hexagon 대비 90%+ 비용 절감
- **한국 특화**: V-World, 공공데이터포털, Kakao Maps 연동으로 한국 소방 맥락에 최적화

---

## 2. 실제 도입 사례 상세 분석

### 2.1 서울소방재난본부 — 차세대 소방안전지도

**배경:**
- 서울시 25개 구, 약 1,000만 인구
- 기존 종이 기반 출동 지도 → 디지털 전환 필요성
- 한강 이남 지역의 도착 시간이 이북 대비 길다는 연구 결과 (2024)

**시스템 구성:**
| 구성요소 | 기능 | 기술 |
|---------|------|------|
| 출동 전 정보 | 신고 접수 시 현장 주변 정보 자동 표시 | GIS + 건축물대장 연동 |
| 전술 디스패치 | 최적 출동 경로 및 소방용수 위치 안내 | 도로 네트워크 라우팅 |
| 실시간 대원 위치 | 현장 활동 중인 소방관 위치 추적 | GPS + 실시간 GIS |
| 소방용수 정보 | 소화전, 저수조, 급수탑 위치 및 상태 | PostGIS 기반 반경 검색 |
| 현장 영상 | CCTV/드론 영상의 GIS 연동 | 비디오 스트리밍 + 지도 오버레이 |

**도입 성과:**
- 출동 준비 시간 단축: 현장 도착 전 건물 구조, 위험물, 소방용수 파악
- "골든타임" 분석: 4분 내 도착 가능 구역의 시각적 식별
- 소방서 배치 불균형 발견: 한강 이남 지역의 소방서 추가 배치 근거 제공

**교훈 — Smart Fire Hub 적용:**
- 출동 전 정보 시스템은 `Pre-Incident Planning` 기능으로 구현 가능
- 건축물대장 + V-World 3D 연동이 핵심 데이터 소스
- 실시간 대원 위치 추적은 Phase 2+ 기능으로 WebSocket 기반 구현
- AI 에이전트가 "이 건물 주변 소방용수 현황 알려줘"로 즉시 분석 가능

---

### 2.2 Columbia-Richland Fire (미국 사우스캐롤라이나)

**배경:**
- 인구 약 13만, 관할 면적 756 km²
- ESRI ArcGIS 기반 GIS 도입 (2020년대 초)

**GIS 활용 분야:**

**A. 위험도 평가 (Risk Assessment):**
- 건물 유형, 노후도, 인구밀도를 결합한 화재 위험 점수 산출
- H3 헥사곤 격자 기반 지역별 위험도 시각화
- 결과: 고위험 지역에 예방 활동 집중 → 화재 발생 12% 감소

**B. 핫스팟 분석:**
- 과거 3년 화재 데이터의 공간적 클러스터링 분석
- Getis-Ord Gi* 통계량으로 통계적으로 유의미한 핫스팟 식별
- 결과: 핫스팟 지역에 화재 예방 교육 집중 배치

**C. 주제도 제작:**
- 구조별 화재(Structure Fire) 분포 맵
- 응답시간 등시간선(Isochrone) 맵
- 소화전 상태 관리 맵

**교훈 — Smart Fire Hub 적용:**
- 위험도 평가는 PostGIS 공간 조인 + H3 집계로 구현 가능
- 핫스팟 분석은 Python/R 기반 공간통계를 백엔드에 통합하거나 AI 에이전트가 분석 수행
- AI 에이전트가 "지난 1년간 건물화재 핫스팟을 분석해줘"로 자동 수행 가능

---

### 2.3 Boise Fire Department (미국 아이다호)

**배경:**
- 인구 약 30만, 관할 면적 220 km²
- NIST(미국 국립표준기술연구소) 파트너십

**GIS 활용 분야:**

**A. 사전조사 3D 스캔:**
- LiDAR/포토그래메트리로 고위험 건물 3D 모델 생성
- 소방관이 현장 도착 전 건물 내부 구조 파악
- GIS 플랫폼에 3D 모델 연결 — 지도에서 건물 클릭 시 3D 뷰 전환

**B. 위험물 지도:**
- 위험물 저장/취급 시설의 위치, 물질 종류, 양을 GIS에 매핑
- 출동 시 위험물 정보 자동 표시 → 대원 안전 강화

**C. 응답 구역 최적화:**
- 인구 증가 지역의 응답시간 변화 추적
- 신규 소방서 위치 선정을 위한 What-if GIS 분석
- NIST 연구 데이터와 연계하여 배치 효과 과학적 검증

**교훈 — Smart Fire Hub 적용:**
- 3D 사전조사는 V-World 3D 데이터 + 건축물대장으로 부분 구현 가능
- 위험물 지도는 소방안전정보시스템 데이터 연동으로 구현
- What-if 분석은 AI 에이전트 + PostGIS 이소크론으로 구현 가능

---

### 2.4 Washington DC Fire & EMS

**배경:**
- 인구 약 70만, 관할 면적 177 km²
- GIS 기반 실시간 대시보드로 운영 혁신

**GIS 활용 분야:**

**A. 실시간 운영 대시보드:**
- 출동 현황, 유닛 위치, 응답시간을 실시간 지도에 표시
- 관리자가 자원 배분 상태를 한눈에 파악
- 결과: 의사결정 속도 향상, 응답시간 개선

**B. 대원 안전 추적:**
- MAYDAY 상황 시 대원 위치 실시간 추적
- 건물 내부 진입 대원의 최종 위치 기록
- GIS 기반 안전 구역(Safety Zone) 설정 및 모니터링

**C. 혈액 공급 관리:**
- 중증 외상 환자 발생 시 최인접 혈액 보유 병원 GIS 검색
- 응급 이송 경로 최적화
- 병원별 혈액 재고 실시간 연동

**교훈 — Smart Fire Hub 적용:**
- 실시간 대시보드는 SSE(Server-Sent Events) + MapLibre로 구현 가능
- AI 에이전트가 "현재 출동 가능한 차량 현황을 지도에 보여줘"로 실시간 분석
- 혈액 공급 관리는 병원 데이터 연동 필요 (장기 목표)

---

### 2.5 Austin Fire Department (미국 텍사스) — 재난 대응 GIS

**배경:**
- 2023년 대형 폭풍 피해 발생
- 24시간 내 GIS 기반 재난 대응 플랫폼 구축

**GIS 활용 사례:**
- 폭풍 피해 지역을 GIS에 실시간 매핑
- 현장 조사팀에 GIS 기반 작업 구역 할당
- 시민 피해 신고를 GIS에 집계 → 우선순위 결정
- 복구 진행 상황을 지도로 실시간 공유

**교훈 — Smart Fire Hub 적용:**
- 재난 대응 모드의 GIS 활용은 Phase 3+ 기능
- 시민 신고 집계 + GIS 히트맵은 기존 데이터 파이프라인으로 구현 가능
- AI 에이전트가 "현재 폭풍 피해 신고가 집중된 지역을 분석해줘"로 즉시 대응

---

### 2.6 사례 종합 비교

| 사례 | 핵심 GIS 활용 | 도입 효과 | Smart Fire Hub 구현 난이도 |
|------|-------------|----------|------------------------|
| **서울소방** | 출동 전 정보, 실시간 대원 위치 | 골든타임 분석, 배치 불균형 발견 | ★★★ (중) |
| **Columbia-Richland** | 위험도 평가, 핫스팟 분석 | 화재 발생 12% 감소 | ★★ (쉬움) |
| **Boise Fire** | 3D 사전조사, 위험물 맵 | 대원 안전 강화 | ★★★★ (어려움) |
| **Washington DC** | 실시간 대시보드, 대원 안전 | 응답시간 개선 | ★★★ (중) |
| **Austin Fire** | 재난 대응, 피해 매핑 | 24시간 내 대응 체계 구축 | ★★ (쉬움) |

---

## 3. 역할별 유저스토리

### 3.1 소방관/현장대원 (Firefighter/First Responder)

#### US-F01: 출동 시 주변 소방용수 확인
```
As a   현장 출동 소방관
I want 화재 현장 주변 500m 이내 소방용수시설(소화전, 저수조)을 지도에서 확인하고 싶다
So that 현장 도착 즉시 가용한 수원을 파악하여 효과적인 진화 작전을 수립할 수 있다

수용 기준:
- [ ] 현재 위치 또는 신고 주소 기준 반경 500m 이내 소방용수시설이 지도에 마커로 표시된다
- [ ] 마커 색상으로 시설 유형(지상식=파랑, 지하식=초록, 저수조=주황)을 구분할 수 있다
- [ ] 마커 클릭 시 용량(톤), 유량(LPM), 관경(mm), 최근 점검일이 팝업으로 표시된다
- [ ] 고장/점검 중인 시설은 빨간 X 표시로 구분된다
- [ ] 모바일 화면에서도 정상 동작한다

예시 AI 에이전트 질의:
  "서울 강남구 역삼동 737번지 주변 소방용수 현황 알려줘"
  → AI가 PostGIS ST_DWithin 쿼리 실행 → 결과를 자연어 + 지도 링크로 응답
```

#### US-F02: 출동 전 건물 정보 확인
```
As a   출동 준비 중인 소방관
I want 신고된 건물의 구조, 층수, 용도, 위험물 보유 여부를 지도에서 확인하고 싶다
So that 현장 도착 전 건물 특성을 파악하여 안전한 진입 전략을 수립할 수 있다

수용 기준:
- [ ] 신고 주소를 지오코딩하여 지도에 마커로 표시된다
- [ ] 건물 마커 클릭 시 건축물대장 기반 정보(구조, 층수, 용도, 면적)가 표시된다
- [ ] 해당 건물에 위험물 저장/취급 이력이 있으면 경고 아이콘이 표시된다
- [ ] 건물 주변 50m 이내의 다른 건물도 연소 확대 위험으로 표시된다
```

#### US-F03: 관할구역 내 소화전 점검 관리
```
As a   소화전 점검 담당 소방관
I want 내 관할구역의 소화전 점검 현황을 지도에서 확인하고 점검 결과를 기록하고 싶다
So that 점검 미실시 소화전을 빠르게 찾아 체계적으로 점검을 완료할 수 있다

수용 기준:
- [ ] 관할구역 경계가 폴리곤으로 표시된다
- [ ] 소화전이 점검 상태별 색상으로 표시된다 (정상=초록, 점검필요=주황, 미점검=회색, 고장=빨강)
- [ ] 점검 기한이 지난 소화전은 깜빡이는 효과로 강조된다
- [ ] 소화전 클릭 시 점검 결과(유량, 상태, 사진)를 기록할 수 있다
- [ ] 점검 완료율이 대시보드에 퍼센트로 표시된다
```

---

### 3.2 지휘관/소방서장 (Fire Chief/Commander)

#### US-C01: 관할구역 화재 발생 현황 분석
```
As a   소방서장
I want 내 관할구역의 월별/유형별 화재 발생 현황을 히트맵으로 확인하고 싶다
So that 화재 예방 활동의 우선순위 지역을 결정하고 자원을 효과적으로 배분할 수 있다

수용 기준:
- [ ] 기간(월/분기/연)별 필터로 화재 사건을 히트맵으로 표시할 수 있다
- [ ] 유형(건물화재, 차량화재, 산불 등)별 필터가 동작한다
- [ ] 히트맵 외에 클러스터링 뷰로 전환할 수 있다
- [ ] 특정 클러스터 클릭 시 해당 지역의 사건 목록이 표시된다
- [ ] 전년 동기 대비 증감률이 표시된다

예시 AI 에이전트 질의:
  "올해 1분기 건물화재가 가장 많이 발생한 지역 top 5 알려줘"
  → AI가 PostGIS 공간 집계 쿼리 실행 → 순위 + 지도 하이라이트로 응답
```

#### US-C02: 응답시간 분석 및 커버리지 갭 파악
```
As a   소방서장
I want 관할구역 내 평균 응답시간을 지역별로 시각화하고 4분 초과 구역을 식별하고 싶다
So that 응답시간이 긴 지역에 대한 개선 방안(소방서 추가, 차량 재배치 등)을 수립할 수 있다

수용 기준:
- [ ] 관할구역이 H3 헥사곤(해상도 8~9)으로 분할되어 표시된다
- [ ] 각 헥사곤의 평균 응답시간이 색상 그라데이션으로 표시된다 (초록→노랑→빨강)
- [ ] NFPA 1710 기준 4분 초과 구역이 빨간색으로 강조된다
- [ ] 특정 헥사곤 클릭 시 해당 지역의 사건 건수, 평균/최대 응답시간, 90th percentile이 표시된다
- [ ] "커버리지 갭" 보기 모드에서 소방서 반경 외 구역이 강조된다

예시 AI 에이전트 질의:
  "우리 관할에서 응답시간 4분 넘는 지역이 어디야? 어떤 소방서가 담당이야?"
  → AI가 H3 집계 + 90th percentile 분석 → 지역명 + 담당 소방서 + 개선 제안으로 응답
```

#### US-C03: 소방서 배치 What-if 시뮬레이션
```
As a   소방본부 기획 담당
I want 새로운 소방서를 특정 위치에 추가했을 때 응답시간 변화를 시뮬레이션하고 싶다
So that 신규 소방서 건설의 효과를 사전에 검증하고 최적 위치를 결정할 수 있다

수용 기준:
- [ ] 지도에서 가상 소방서 위치를 클릭하여 지정할 수 있다
- [ ] 지정된 위치에서 4분/8분 이소크론(도달 시간 영역)이 표시된다
- [ ] 기존 소방서의 이소크론과 겹치지 않는 "신규 커버리지" 영역이 강조된다
- [ ] 신규 소방서 추가 시 전체 관할의 4분 커버리지 비율 변화가 표시된다
- [ ] 복수 후보지를 비교하는 테이블이 제공된다
```

---

### 3.3 분석가/데이터 담당 (Analyst)

#### US-A01: 화재 위험도 평가 맵 생성
```
As a   소방 데이터 분석가
I want 건물 노후도, 인구밀도, 위험물 시설, 과거 화재 이력을 결합한 화재 위험도 맵을 생성하고 싶다
So that 화재 예방 자원의 우선순위 배분에 데이터 기반 근거를 제공할 수 있다

수용 기준:
- [ ] 위험도 산정 요소(건물노후도, 인구밀도, 위험물, 화재이력)의 가중치를 조절할 수 있다
- [ ] H3 해상도 9 기준으로 지역별 위험 점수가 계산된다
- [ ] 위험도가 5단계 색상으로 시각화된다 (매우낮음/낮음/보통/높음/매우높음)
- [ ] 특정 셀 클릭 시 위험 점수의 구성 요소별 기여도가 표시된다
- [ ] 결과를 CSV/GeoJSON으로 내보낼 수 있다

예시 AI 에이전트 질의:
  "강남구의 화재 위험도를 건물 노후도 40%, 인구밀도 30%, 화재이력 30%로 분석해줘"
  → AI가 다중 데이터 공간 조인 + H3 집계 → 위험도 맵 + 상위 10개 고위험 지역 목록으로 응답
```

#### US-A02: 시계열 공간 패턴 분석
```
As a   소방 데이터 분석가
I want 화재 발생의 시간대별/계절별 공간 패턴을 분석하고 싶다
So that 시간대별 예방 활동 계획과 계절별 인력 배치 전략을 수립할 수 있다

수용 기준:
- [ ] 시간대(새벽/아침/오후/저녁/심야)별 화재 발생 히트맵을 슬라이더로 전환할 수 있다
- [ ] 월별 화재 발생 패턴이 애니메이션으로 재생된다
- [ ] 요일별 패턴(평일 vs 주말)을 비교할 수 있다
- [ ] 특정 시간대+지역 조합의 상세 통계가 표시된다
```

#### US-A03: 소방용수시설 커버리지 분석
```
As a   소방 인프라 분석가
I want 관할구역 내 소방용수시설의 커버리지를 분석하여 사각지대를 식별하고 싶다
So that 소방용수시설 추가 설치 우선순위를 결정할 수 있다

수용 기준:
- [ ] 모든 소방용수시설에서 반경 140m 버퍼를 생성하여 커버리지 영역이 표시된다
- [ ] 커버리지 영역에 포함되지 않는 건물이 빨간색으로 강조된다
- [ ] 커버리지율(전체 건물 대비 커버된 건물 비율)이 퍼센트로 표시된다
- [ ] 행정동별/소방서별 커버리지율 순위가 제공된다
- [ ] 시설 추가 시 커버리지 변화를 시뮬레이션할 수 있다

예시 AI 에이전트 질의:
  "우리 관할에서 소화전 반경 140m 밖에 있는 건물이 몇 개야?"
  → AI가 PostGIS ST_Buffer + NOT ST_Intersects 쿼리 → 미커버 건물 수 + 지역별 분포로 응답
```

---

### 3.4 시민/일반 사용자 (Citizen)

#### US-P01: 내 집 주변 소방 안전 정보 확인
```
As a   일반 시민
I want 내 집 주변의 소방서 위치, 소화전 위치, 예상 응답시간을 확인하고 싶다
So that 거주지의 화재 안전 수준을 파악하고 안전 대비를 할 수 있다

수용 기준:
- [ ] 주소 입력 시 가장 가까운 소방서 3곳이 거리/예상 도착시간과 함께 표시된다
- [ ] 주변 300m 이내 소화전이 표시된다
- [ ] 해당 지역의 화재 위험 등급(5단계)이 표시된다
- [ ] 가까운 소방서의 연락처가 제공된다
```

#### US-P02: 화재 발생 통계 조회
```
As a   지역 주민 / 언론인
I want 우리 동네의 최근 화재 발생 현황을 지도로 확인하고 싶다
So that 지역의 화재 안전 상황을 이해하고 필요한 행동을 취할 수 있다

수용 기준:
- [ ] 행정구역(시/구/동) 단위로 화재 발생 건수가 표시된다
- [ ] 최근 1년간 월별 추이 차트가 제공된다
- [ ] 개인정보가 제거된 화재 위치만 근사적으로 표시된다 (정확한 주소 비공개)
- [ ] 공개 가능한 원인별 통계가 제공된다
```

---

### 3.5 유저스토리 우선순위 매트릭스

| ID | 유저스토리 | 사용자 | 비즈니스 가치 | 구현 복잡도 | 우선순위 |
|----|----------|-------|-------------|-----------|---------|
| US-F01 | 출동 시 주변 소방용수 확인 | 소방관 | ★★★★★ | ★★ | **P0** |
| US-C01 | 화재 발생 현황 히트맵 | 지휘관 | ★★★★★ | ★★ | **P0** |
| US-C02 | 응답시간 분석/커버리지 갭 | 지휘관 | ★★★★★ | ★★★ | **P0** |
| US-A03 | 소방용수 커버리지 분석 | 분석가 | ★★★★ | ★★★ | **P1** |
| US-F02 | 출동 전 건물 정보 확인 | 소방관 | ★★★★ | ★★★ | **P1** |
| US-A01 | 화재 위험도 평가 맵 | 분석가 | ★★★★ | ★★★★ | **P1** |
| US-F03 | 소화전 점검 관리 | 소방관 | ★★★★ | ★★★ | **P1** |
| US-A02 | 시계열 공간 패턴 분석 | 분석가 | ★★★ | ★★★ | **P2** |
| US-P01 | 시민 소방 안전 정보 | 시민 | ★★★ | ★★ | **P2** |
| US-P02 | 화재 발생 통계 조회 | 시민 | ★★ | ★★ | **P3** |
| US-C03 | 배치 What-if 시뮬레이션 | 지휘관 | ★★★★★ | ★★★★★ | **P3** |

---

## 4. 한국 공공데이터 및 API 분석

### 4.1 활용 가능 데이터 소스 종합

#### A. V-World (브이월드) — 국가 공간정보 오픈플랫폼

| API 유형 | 설명 | Smart Fire Hub 활용 |
|---------|------|-------------------|
| **배경지도 API** | 2D 래스터/벡터 타일, 위성영상 | 기본 배경지도 (무료, 무제한) |
| **3D 지도 API** | WebGL 기반 3D 건물/지형 | 건물 3D 사전조사 뷰 |
| **WMS/WFS API 2.0** | OGC 표준 공간데이터 서비스 (900+ 레이어) | 용도지역, 건물통합정보, 연속지적도 |
| **검색 API 2.0** | 주소/POI/좌표 검색 | 주소 → 좌표 변환 (지오코딩) |
| **지오코더 API** | 정밀 지오코딩/역지오코딩 | 신고 주소 → GPS 좌표 변환 |
| **데이터 API** | 속성 정보 조회 | 건물, 토지 속성 정보 |

**인증 및 사용량:**
- 무료 (회원가입 후 API 키 발급)
- 일 사용량 제한 있음 (배경지도: 무제한, 검색: 40,000건/일)
- 상용 서비스 이용 시 별도 신청 필요

**WFS 주요 레이어 (소방 관련):**

| 레이어명 | 설명 | 활용도 |
|---------|------|--------|
| `lt_c_landinfobasemap` | 연속지적도 | 필지 경계, 토지 이용 분석 |
| `lt_c_bldginfo` | 건물통합정보 | 건물 위치, 용도, 구조, 층수 |
| `lt_c_usedistrictlnm` | 용도지역지구도 | 위험물 저장소, 공업지역 식별 |
| `lt_c_roadlink` | 도로 링크 | 출동 경로 분석 |
| `lt_c_admsigg` | 시군구 행정경계 | 관할구역 기본 경계 |
| `lt_c_admemd` | 읍면동 행정경계 | 세부 관할 분석 |

**V-World 연동 코드 예시:**
```typescript
// MapLibre + V-World 배경지도
const VWORLD_STYLE = {
  version: 8,
  sources: {
    vworld: {
      type: 'raster',
      tiles: [
        `https://api.vworld.kr/req/wmts/1.0.0/${API_KEY}/Base/{z}/{y}/{x}.png`
      ],
      tileSize: 256,
    }
  },
  layers: [{
    id: 'vworld-base',
    type: 'raster',
    source: 'vworld',
  }]
};

// V-World WFS로 건물통합정보 조회
const fetchBuildingInfo = async (bbox: [number, number, number, number]) => {
  const url = new URL('https://api.vworld.kr/req/wfs');
  url.searchParams.set('service', 'WFS');
  url.searchParams.set('version', '2.0.0');
  url.searchParams.set('request', 'GetFeature');
  url.searchParams.set('typeName', 'lt_c_bldginfo');
  url.searchParams.set('bbox', bbox.join(','));
  url.searchParams.set('srsName', 'EPSG:4326');
  url.searchParams.set('output', 'application/json');
  url.searchParams.set('key', API_KEY);

  const response = await fetch(url.toString());
  return response.json(); // GeoJSON FeatureCollection
};
```

---

#### B. 공공데이터포털 (data.go.kr)

| 데이터셋 | 제공기관 | 포맷 | 활용 |
|---------|---------|------|------|
| **전국 소방서 위치** | 소방청 | CSV/API | 소방서 좌표, 관할 |
| **119안전센터 현황** | 소방청 | CSV/API | 안전센터 위치, 장비 |
| **소방용수시설 현황** | 소방청 | CSV/API | 소화전, 저수조 위치/용량 |
| **화재 발생 현황** | 소방청 | CSV | 연도별 화재 통계 (시군구) |
| **GIS건물통합정보** | 국토교통부 | SHP/CSV | 전국 건물 위치/속성 |
| **도로명주소 전자지도** | 행정안전부 | SHP | 도로 네트워크, 주소 |
| **위험물안전관리** | 소방청 | CSV/API | 위험물 저장/취급 시설 |
| **다중이용업소** | 소방청 | CSV/API | 다중이용업소 위치/유형 |
| **건축물대장** | 국토교통부 | API | 건물 상세 정보 (구조, 층수, 용도) |
| **주민등록인구통계** | 행정안전부 | CSV/API | 행정동별 인구/세대 |

**핵심 API 상세:**

**소방용수시설 API (소방청):**
```
URL: https://apis.data.go.kr/1661000/WaterFacilityService/getWaterFacilityList
파라미터: 시도코드, 시군구코드, 유형(소화전/저수조/급수탑)
응답: 위치(좌표), 유형, 용량, 관경, 설치일, 관할소방서
일 호출 제한: 10,000건
```

**건축물대장 API (국토교통부):**
```
URL: https://apis.data.go.kr/1613000/BldRgstService
파라미터: 시군구코드, 번지, 동명
응답: 건물명, 용도, 구조, 층수, 면적, 사용승인일
일 호출 제한: 10,000건
```

---

#### C. BigData-119 (bigdata-119.kr) — 소방청 빅데이터 플랫폼

| 데이터 | 설명 | 활용 |
|--------|------|------|
| **실시간 119 신고 통계** | 시도별 실시간 119 콜 현황 | 실시간 대시보드 |
| **화재 발생 분석** | 원인별, 장소별, 시간대별 화재 통계 | 패턴 분석 |
| **구급 출동 분석** | 질환별, 시간대별 구급 통계 | 구급 자원 배치 |
| **구조 출동 분석** | 유형별, 장소별 구조 통계 | 구조 자원 배치 |
| **소방활동 통계** | 월별 소방활동 종합 현황 | KPI 대시보드 |

**한계:**
- API 미제공 — 웹 대시보드 조회만 가능
- 원시 데이터(Raw Data) 다운로드 불가
- 공간 정보(좌표) 미포함 — 시도/시군구 단위 집계만 제공

---

#### D. 카카오맵/네이버 지도 API

| API | 기능 | 무료 한도 | 장점 | 단점 |
|-----|------|---------|------|------|
| **Kakao Maps** | 지오코딩, 역지오코딩, 키워드 검색, 경로 탐색 | 300,000건/일 | 한국 주소 정확도 최고, 무료 한도 넉넉 | 지도 타일 직접 사용 시 라이선스 제약 |
| **Kakao Mobility** | 실시간 경로 탐색, 예상 소요시간 | 유료 | 실시간 교통 반영 경로, 이소크론 대체 | 비용 발생 |
| **Naver Maps** | 지오코딩, 역지오코딩, 경로 탐색 | 제한적 | 한국 주소 정확도 높음 | 무료 한도 제한적 |

**권장 조합:**
```
배경지도: V-World (무료, 무제한)
지오코딩: Kakao Maps API (300,000건/일 무료)
건물정보: 건축물대장 API + V-World WFS
소방데이터: 공공데이터포털 API (소방용수, 소방서 등)
경로분석: OSRM 셀프호스팅 (무료) + Kakao Mobility (정밀, 유료)
```

---

#### E. 국토교통부 지오코더 API

| 항목 | 상세 |
|------|------|
| URL | `https://api.vworld.kr/req/address` |
| 기능 | 도로명/지번 주소 → 좌표 변환, 좌표 → 주소 변환 |
| 무료 한도 | 40,000건/일 |
| 정확도 | 최고 (공식 도로명주소 DB 기반) |
| 한국 특화 | 도로명주소, 지번주소 모두 지원 |

---

### 4.2 데이터 소스 통합 아키텍처

```
┌─────────────────────────────────────────────────────┐
│                  Smart Fire Hub                      │
│                                                      │
│  ┌──────────────────────────────────────────────┐   │
│  │              PostGIS (fire 스키마)              │   │
│  │  organization, district, incident, hydrant,   │   │
│  │  dispatch, building_info, risk_score          │   │
│  └────────────────────┬─────────────────────────┘   │
│                       │                              │
│         ┌─────────────┼─────────────┐               │
│         ▼             ▼             ▼               │
│   ┌──────────┐  ┌──────────┐  ┌──────────┐         │
│   │ ETL 파이프│  │ 실시간    │  │ 배치 임포트│         │
│   │ 라인     │  │ API 연동  │  │          │         │
│   └────┬─────┘  └────┬─────┘  └────┬─────┘         │
│        │             │             │                │
└────────┼─────────────┼─────────────┼────────────────┘
         ▼             ▼             ▼
  ┌──────────┐  ┌──────────┐  ┌──────────┐
  │data.go.kr│  │ V-World  │  │ Kakao    │
  │ 소방청    │  │ WFS/WMS  │  │ Maps API │
  │ 국토부    │  │ 지오코더  │  │ Mobility │
  └──────────┘  └──────────┘  └──────────┘
  소방용수시설    건물통합정보     지오코딩
  소방서 위치     연속지적도      역지오코딩
  화재 통계       행정경계       경로 탐색
  위험물 현황     용도지역       이소크론
  건축물대장
```

### 4.3 데이터 수집 전략

| 데이터 | 수집 방식 | 주기 | 저장 위치 |
|--------|---------|------|----------|
| 소방서 위치 | 공공데이터 API → ETL 파이프라인 | 월 1회 | `fire.organization` |
| 소방용수시설 | 공공데이터 API → ETL 파이프라인 | 주 1회 | `fire.hydrant` |
| 건물통합정보 | V-World WFS → 배치 임포트 | 월 1회 | `fire.building` (신규) |
| 위험물 시설 | 공공데이터 API → ETL 파이프라인 | 월 1회 | `fire.hazmat_facility` (신규) |
| 행정경계 | V-World WFS → 배치 임포트 | 연 1회 | `fire.admin_boundary` (신규) |
| 화재 통계 | 공공데이터 CSV → 배치 임포트 | 월 1회 | `fire.incident` |
| 주소 → 좌표 | V-World/Kakao API → 실시간 | 실시간 | 각 테이블 `location` 컬럼 |

---

## 5. Gap 분석 및 전략적 시사점

### 5.1 현재 계획 대비 Gap 분석

기존 `fire-foundation-sprint.md`의 계획과 실제 도입 사례/경쟁사 분석을 비교하여 식별된 갭:

| # | 갭 (Gap) | 현재 계획 | 경쟁사/사례에서 발견 | 권장 대응 |
|---|---------|----------|-------------------|---------|
| G1 | **건물 정보 연동 부재** | fire 스키마에 건물 테이블 없음 | 모든 경쟁사가 건물 정보 제공 (사전조사 핵심) | `fire.building` 테이블 추가, 건축물대장 API 연동 |
| G2 | **위험물 시설 데이터 부재** | 위험물 관련 테이블 없음 | Boise Fire, First Due 등에서 핵심 기능 | `fire.hazmat_facility` 테이블 추가, 소방청 API 연동 |
| G3 | **이소크론 분석 미계획** | 직선거리 버퍼만 언급 | ESRI, Hexagon, Deccan 모두 도로 기반 이소크론 제공 | OSRM 셀프호스팅 + 이소크론 API 통합 |
| G4 | **지오코딩 서비스 미통합** | 주소→좌표 변환 방법 미명시 | 사건 신고 시 주소 지오코딩 필수 | V-World 지오코더 + Kakao Maps 이중화 |
| G5 | **행정경계 데이터 미포함** | 관할구역만 수동 입력 가정 | 서울소방 등 행정동 단위 분석 필수 | V-World WFS 행정경계 자동 임포트 |
| G6 | **데이터 수집 파이프라인 미설계** | 시드 데이터만 계획 | 공공데이터 정기 수집이 운영의 핵심 | 기존 ETL 파이프라인에 공간데이터 수집 작업 추가 |
| G7 | **시민 공개 뷰 미계획** | 내부 사용자만 고려 | Columbia-Richland, Austin 등 시민 공개 대시보드 운영 | P3 우선순위로 시민 공개 뷰 추가 |
| G8 | **오프라인 맵 미고려** | 온라인 전용 | ImageTrend, ESRI 등 오프라인 현장 앱 제공 | MapLibre 타일 캐싱 + PWA (중장기) |

### 5.2 전략적 권장사항

**단기 (Foundation Sprint에 반영):**
1. `fire.building` 테이블 추가 — 건축물대장 API 기본 연동
2. V-World 지오코더 + Kakao Maps 지오코딩 서비스 통합
3. V-World WFS 행정경계(시군구/읍면동) 임포트 스크립트

**중기 (Phase 2~3):**
4. OSRM 기반 이소크론 분석 서비스
5. 위험물 시설 데이터 연동
6. 공공데이터 정기 수집 ETL 파이프라인

**장기 (Phase 4+):**
7. What-if 배치 시뮬레이션
8. 시민 공개 대시보드
9. 오프라인 맵 지원 (PWA)

### 5.3 Smart Fire Hub만의 차별점

경쟁사 분석에서 도출된 **Smart Fire Hub만의 고유 강점**:

| 차별점 | 설명 | 경쟁사 대비 |
|--------|------|-----------|
| **AI 에이전트 기반 GIS 분석** | 자연어로 공간 분석 수행 ("강남구 화재 핫스팟 분석해줘") | 경쟁사 없음 — 모두 GUI 기반 |
| **오픈소스 GIS 스택** | PostGIS + MapLibre + deck.gl (비용 $0) | ESRI/Hexagon: 연 $10K~$100K+ |
| **한국 특화** | V-World, Kakao, 공공데이터포털 네이티브 연동 | 해외 플랫폼은 한국 데이터 미지원 |
| **통합 데이터 플랫폼** | GIS + ETL + 분석 + AI가 하나의 플랫폼 | 대부분 GIS만 또는 RMS만 제공 |
| **MCP 도구 확장성** | AI 에이전트에 GIS 도구 추가로 분석 자동화 | 경쟁사 AI 기능은 초보 수준 |

---

## 참고 자료

### 웹 소스
- [ESRI Community Risk Reduction](https://www.esri.com/en-us/industries/fire-rescue-ems/strategies/community-risk-reduction)
- [ESRI Fire Department Accreditation](https://www.esri.com/en-us/industries/fire-rescue-ems/strategies/fire-department-accreditation)
- [ESRI Wildfire Protection Planning (2025)](https://www.esri.com/about/newsroom/arcnews/arcgis-technology-bolsters-community-wildfire-protection-plans)
- [ISO PPC Program](https://www.isomitigation.com/ppc/)
- [V-World 공간정보 오픈플랫폼](https://www.vworld.kr/v4po_main.do)
- [V-World WMS/WFS API 2.0](https://www.vworld.kr/dev/v4dv_wmsguide2_s001.do)
- [V-World GitHub 샘플](https://github.com/V-world/V-world_API_sample)
- [공공데이터포털](https://www.data.go.kr)
- [BigData-119 소방빅데이터](https://bigdata-119.kr)

### 프로젝트 내부 문서
- `docs/research/gis-spatial-research.md` — 기술 스택 비교 (MapLibre, PostGIS, jOOQ 등)
- `docs/research/fire-data-platform-research.md` — 소방 플랫폼 종합 분석
- `docs/planning/fire-foundation-sprint.md` — 기반 구축 스프린트 계획
- `docs/planning/fire-domain-roadmap.md` — 장기 로드맵
